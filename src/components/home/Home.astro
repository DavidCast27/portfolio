---
import DownloadIcon from "../icons/DownloadIcon.astro";
import GitHubIcon from "../icons/GitHubIcon.astro";
import LinkedInIcon from "../icons/LinkedInIcon.astro";
import MailIcon from "../icons/MailIcon.astro";
import Badge from "../ui/Badge.astro";
import SocialPill from "../ui/SocialPill.astro";
import { getI18N } from "@/i18n";

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
---

<section
  id="home"
  aria-labelledby="home-title"
  class="scroll-mt-20 pb-12 md:pb-16 flex flex-col gap-y-6 md:gap-y-8"
>
  <!-- Header: avatar, name, role, status -->
  <div
    class="flex flex-col items-center gap-4 md:flex-row md:items-center md:gap-6"
  >
    <img
      class="size-24 md:size-28 lg:size-32 rounded-full ring-1 ring-border/50 shadow-sm"
      src="https://avatars.githubusercontent.com/u/17658533?s=400&u=720a1f13ac78e3220db618daa33e15d11130747b&v=4"
      alt={i18n.home.avatar_alt}
      width="128"
      height="128"
      decoding="async"
      loading="eager"
      fetchpriority="high"
    />

    <div
      class="flex flex-col items-center text-center md:items-start md:text-left gap-2"
    >
      <h1
        id="home-title"
        class="text-2xl md:text-4xl lg:text-5xl font-bold leading-tight text-balance"
      >
        {i18n.home.name}
      </h1>
      <div class="flex flex-col sm:flex-row gap-2 sm:items-center">
        <h2
          class="text-lg md:text-2xl lg:text-3xl opacity-90 leading-snug text-pretty"
        >
          {i18n.home.role}
        </h2>
        <a
          href="https://www.linkedin.com/in/davidcastrillongonzales/"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="LinkedIn â€” {i18n.home.status.available}"
        >
          <Badge color="green">{i18n.home.status.available}</Badge>
        </a>
      </div>
    </div>
  </div>

  <!-- Description -->
  <div class="mx-auto md:mx-0 space-y-3">
    <p class="text-primary/90 text-sm md:text-base lg:text-lg text-pretty">
      <strong>{i18n.home.years_of_experience}</strong>
    </p>
    <p class="text-sm md:text-base lg:text-lg text-pretty text-foreground/95">
      <Fragment set:html={i18n.home.main_paragraph} />
    </p>
    <p class="text-xs md:text-sm lg:text-base text-pretty opacity-90">
      <Fragment set:html={i18n.home.second_paragraph} />
    </p>
  </div>

  <!-- Social links -->
  <nav aria-label={i18n.a11y.nav.social} class="flex flex-wrap gap-3 md:gap-4 justify-center md:justify-start">
    <SocialPill
      href="https://github.com/DavidCast27"
      title="GitHub"
      aria-label="GitHub"
    >
      <GitHubIcon class="size-4 lg:size-6" />
      <span class="hidden md:inline text-xs">{i18n.home.social.github}</span>
    </SocialPill>
    <SocialPill
      href="https://www.linkedin.com/in/davidcastrillongonzales/"
      title="LinkedIn"
      aria-label="LinkedIn"
    >
      <LinkedInIcon class="size-4 lg:size-6" />
      <span class="hidden md:inline text-xs">{i18n.home.social.linkedin}</span>
    </SocialPill>
    <SocialPill
      href="mailto:david.cast27@gmail.com"
      title="email"
      aria-label="Email"
    >
      <MailIcon class="size-4 lg:size-6" />
      <span class="hidden md:inline text-xs">{i18n.home.social.mail}</span>
    </SocialPill>
    <SocialPill
      href="/CV-ES-david-castrillon.pdf"
      title="DownLoadCV"
      download
      aria-label="Descargar CV"
    >
      <DownloadIcon class="size-4 lg:size-6" />
      <span class="hidden md:inline text-xs"
        >{i18n.home.social.download_cv}</span
      >
    </SocialPill>
  </nav>
</section>
